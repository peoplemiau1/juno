// tests/test_threads.juno
import "../stdlib/std.juno"

fn worker(val) {
    print("Worker received:")
    print(val)
    return 0
}

fn main() {
    print("Starting threads...")
    let s1 = alloc_stack(65536)
    let s2 = alloc_stack(65536)
    
    thread_create(worker, s1, 100)
    thread_create(worker, s2, 200)
    
    sleep(200)
    print("Main done")
    return 0
}
