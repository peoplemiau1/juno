# Juno v1.0 Documentation

## –û–±–∑–æ—Ä

**Juno** ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º—ã–π –Ω–∞–ø—Ä—è–º—É—é –≤ –Ω–∞—Ç–∏–≤–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã (PE –¥–ª—è Windows, ELF –¥–ª—è Linux) –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```juno
let x = 42
let name = 100
x = x + 1
```

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî 64-–±–∏—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞. –û–±—ä—è–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `let`.

### 2. –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```juno
let sum = a + b      // –°–ª–æ–∂–µ–Ω–∏–µ
let diff = a - b     // –í—ã—á–∏—Ç–∞–Ω–∏–µ
let prod = a * b     // –£–º–Ω–æ–∂–µ–Ω–∏–µ
let quot = a / b     // –î–µ–ª–µ–Ω–∏–µ
```

### 3. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```juno
let eq = (a == b)    // –†–∞–≤–Ω–æ
let neq = (a != b)   // –ù–µ —Ä–∞–≤–Ω–æ
let lt = (a < b)     // –ú–µ–Ω—å—à–µ
let gt = (a > b)     // –ë–æ–ª—å—à–µ
let lte = (a <= b)   // –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
let gte = (a >= b)   // –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: 1 (true) –∏–ª–∏ 0 (false).

### 4. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –∏ –¥–µ–∫—Ä–µ–º–µ–Ω—Ç

```juno
x++    // x = x + 1
x--    // x = x - 1
```

### 5. –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```juno
if (condition) {
    // –∫–æ–¥ –µ—Å–ª–∏ true
} else {
    // –∫–æ–¥ –µ—Å–ª–∏ false
}
```

### 6. –¶–∏–∫–ª—ã

#### While

```juno
while (condition) {
    // —Ç–µ–ª–æ —Ü–∏–∫–ª–∞
}
```

#### For

```juno
for (i = 0; i < 10; i++) {
    // —Ç–µ–ª–æ —Ü–∏–∫–ª–∞
}
```

### 7. –§—É–Ω–∫—Ü–∏–∏

```juno
fn add(a, b) {
    return a + b
}

fn main() {
    let result = add(10, 20)
    return result
}
```

- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `fn main()`
- –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `return`

### 8. –°—Ç—Ä—É–∫—Ç—É—Ä—ã (struct)

```juno
struct Point {
    x
    y
}

fn main() {
    let p = Point
    p.x = 10
    p.y = 20
}
```

### 9. –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä—É–∫—Ç—É—Ä

```juno
struct Counter {
    value
}

fn Counter.init(start) {
    self.value = start
}

fn Counter.increment() {
    self.value = self.value + 1
}

fn Counter.get() {
    return self.value
}

fn main() {
    let c = Counter
    c.init(0)
    c.increment()
    let val = c.get()
    return val
}
```

- `self` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
- –í—ã–∑–æ–≤: `instance.method(args)`

### 10. –ú–∞—Å—Å–∏–≤—ã (NEW in v1.1)

```juno
fn main() {
    let arr[5]           // –û–±—ä—è–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    
    arr[0] = 10          // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    arr[1] = 20
    
    let x = arr[0]       // –ß—Ç–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    let size = len(arr)  // –î–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ (5)
    
    // –ò—Ç–µ—Ä–∞—Ü–∏—è
    for (i = 0; i < 5; i++) {
        arr[i] = i * 10
    }
    
    return arr[2]        // 20
}
```

- –ú–∞—Å—Å–∏–≤—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ —Å—Ç–µ–∫–µ
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å 0
- `len(arr)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞

### 11. –°—Ç—Ä–æ–∫–∏ –∏ print() (NEW in v1.1)

```juno
fn main() {
    print("Hello, World!")   // –í—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏
    print(42)                // –í—ã–≤–æ–¥ —á–∏—Å–ª–∞
    print(100 + 23)          // –í—ã–≤–æ–¥ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    
    return 0
}
```

- `print(s)` ‚Äî –≤—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –≤ stdout
- `print(n)` ‚Äî –≤—ã–≤–æ–¥ —á–∏—Å–ª–∞ –≤ stdout
- –°—Ç—Ä–æ–∫–∏ null-terminated –≤ data section

### 12. –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π (NEW in v1.2)

```juno
import "stdlib/std.juno"
import "mylib/utils.juno"

fn main() {
    let sq = square(5)      // –ò–∑ stdlib
    let f = factorial(6)    // –ò–∑ stdlib
    return sq + f
}
```

- –ò–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- `main()` –∏–∑ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

### 13. –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (insertC)

–ü—Ä—è–º–∞—è –∏–Ω—ä–µ–∫—Ü–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ x64:

```juno
fn main() {
    // xor rax, rax (–æ–±–Ω—É–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
    insertC { 0x48 0x31 0xc0 }
    
    // nop
    insertC { 0x90 }
    
    return 0
}
```

### 13. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

```juno
// –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
let x = 42  // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏
```

## Built-in —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `print(s)` | –í—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –≤ stdout |
| `print(n)` | –í—ã–≤–æ–¥ —á–∏—Å–ª–∞ –≤ stdout |
| `len(arr)` | –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ (compile-time) |
| `len(s)` | –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ (runtime) |

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è

### Windows (PE x64)

```powershell
ruby main_native.rb program.juno
./output.exe
echo %ERRORLEVEL%
```

### Linux (ELF x64)

```bash
ruby main_linux.rb program.juno
chmod +x output_linux
./output_linux
echo $?
```

## –ü—Ä–∏–º–µ—Ä—ã

### –°—É–º–º–∞ –º–∞—Å—Å–∏–≤–∞

```juno
fn main() {
    let arr[5]
    arr[0] = 10
    arr[1] = 20
    arr[2] = 30
    arr[3] = 40
    arr[4] = 50
    
    let sum = 0
    for (i = 0; i < 5; i++) {
        sum = sum + arr[i]
    }
    
    print(sum)  // 150
    return sum
}
```

### Hello World

```juno
fn main() {
    print("Hello, Juno!")
    return 0
}
```

### –§–∞–∫—Ç–æ—Ä–∏–∞–ª

```juno
fn factorial(n) {
    let result = 1
    for (i = 1; i <= n; i++) {
        result = result * i
    }
    return result
}

fn main() {
    print(factorial(5))  // 120
    return 0
}
```

## Changelog

### v1.2
- ‚úÖ –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π (`import "path/module.juno"`)
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (`stdlib/std.juno`)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: constant folding, strength reduction
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: dead code elimination
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: constant propagation
- ‚úÖ Shift –≤–º–µ—Å—Ç–æ —É–º–Ω–æ–∂–µ–Ω–∏—è/–¥–µ–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç–µ–ø–µ–Ω–∏ 2

### v1.1
- ‚úÖ –ú–∞—Å—Å–∏–≤—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (`let arr[N]`)
- ‚úÖ –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É (`arr[i]`)
- ‚úÖ –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã (`"hello"`)
- ‚úÖ `print()` –¥–ª—è —Å—Ç—Ä–æ–∫ –∏ —á–∏—Å–µ–ª
- ‚úÖ `len()` –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –∏ —Å—Ç—Ä–æ–∫

### v1.0
- ‚úÖ –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (let, if, while, for)
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∏ return
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –º–µ—Ç–æ–¥—ã
- ‚úÖ –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ insertC (–∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏)
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è PE/ELF

---

**Juno** ‚Äî –í–∞—à –º–µ—á –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. üó°Ô∏è
