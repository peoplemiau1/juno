# Управление памятью и указатели

## Работа с указателями
Juno предоставляет прямой доступ к памяти.
*   `&var`: Получение адреса переменной.
*   `*ptr`: Разыменование указателя (чтение или запись).

```juno
let x = 10
let p = &x
*p = 42 // Теперь x равно 42
```

## Безопасность и регистры
Компилятор Juno автоматически отслеживает переменные, адрес которых был взят (`&`). Такие переменные принудительно сохраняются в стеке (spilling), а не в регистрах, чтобы гарантировать корректность работы указателей.

## Динамическая память
Для работы с кучей используются встроенные функции:
*   `malloc(size)`: Выделение памяти.
*   `realloc(ptr, new_size)`: Перераспределение.
*   `free(ptr)`: Освобождение.

## Структуры и Массивы
### Структуры
Объявляются через `struct`. Поля по умолчанию выровнены по 8 байт.
```juno
struct Data {
    id: int
    active: bool
}
```

### Массивы на стеке
```juno
let arr[10] // Массив из 10 элементов (по 8 байт каждый)
arr[0] = 100
```
