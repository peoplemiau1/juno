# Juno Compiler - TODO List

## –ó–∞–≤–µ—Ä—à–µ–Ω–æ (v1.3)

- –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π (`import "path/file.juno"`)
- –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: constant folding
- –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: strength reduction (x*8 ‚Üí x<<3)
- –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: dead code elimination
- –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä: constant propagation
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (stdlib/std.juno)
- –£–∫–∞–∑–∞—Ç–µ–ª–∏: –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  - `&x` - –≤–∑—è—Ç–∏–µ –∞–¥—Ä–µ—Å–∞
  - `*ptr` - —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ
  - `*ptr = value` - –∑–∞–ø–∏—Å—å –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π —Å 2+ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (v1.3)

### 1. –í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π —Å 2+ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** `eval_expression` –∑–∞—Ç–∏—Ä–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä—ã –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
- `add(10, 20)` —Ä–∞–±–æ—Ç–∞–ª ‚Üí 30
- `add(100, 200)` –≤–æ–∑–≤—Ä–∞—â–∞–ª 44

**–†–µ—à–µ–Ω–∏–µ (–ø—Ä–∏–º–µ–Ω–µ–Ω–æ):**
- –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ —Ä–µ–≥–∏—Å—Ç—Ä—ã
- –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Ç–∏—Ä–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –ø—Ä–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö `eval_expression`
- –ò–∑–º–µ–Ω–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏: `gen_user_fn_call` –∏ `gen_method_call`

**–§–∞–π–ª—ã:**
- `src/codegen/parts/calls.rb` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

### 2. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** 50+ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–≤—Å—é–¥—É

**–†–µ—à–µ–Ω–∏–µ (–ü–†–ò–ú–ï–ù–ï–ù–û):**
- –í—Å–µ `test_*.juno` –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `/tests`
- –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `/examples`
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `/build`
- –£–¥–∞–ª–µ–Ω—ã –¥–∞–º–ø—ã –∫–æ–¥–∞ (all_code.txt, combined_ruby.txt, etc.)
- –û–±–Ω–æ–≤–ª–µ–Ω `.gitignore`
- –°–æ–∑–¥–∞–Ω `STRUCTURE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## Roadmap (–∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞)

### –ì–ª–∞–≤–Ω–æ–µ
1. **–°–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥** - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å Ruby –Ω–∞ Juno
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
   - –¢—Ä–µ–±—É–µ—Ç: –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, —Ñ–∞–π–ª–æ–≤—ã–π I/O, –ø–∞—Ä—Å–∏–Ω–≥

2. **Register allocation** - —É–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è
   - –°–µ–π—á–∞—Å: –≤—Å—ë —á–µ—Ä–µ–∑ RAX/—Å—Ç–µ–∫
   - –¶–µ–ª—å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RBX, R12-R15 –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –§–∞–π–ª: `src/optimizer/register_allocator.rb` (—Å–æ–∑–¥–∞–Ω, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)

### –ü–æ–ª–µ–∑–Ω–æ–µ

3. **–£–∫–∞–∑–∞—Ç–µ–ª–∏ - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**
   - –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
   - –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ —Ñ—É–Ω–∫—Ü–∏—é
   - –ù–µ—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (`ptr + 1`)
   - –ù–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`**ptr`)

4. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - `let x: int = 5`
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è
   - –¢—Ä–µ–±—É–µ—Ç: type checker, type inference
   - –§–∞–π–ª—ã: –Ω–æ–≤—ã–π `src/type_checker.rb`

5. **–°—Ç—Ä–æ–∫–∏ –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö** - `"Hello " + name`
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è
   - –¢—Ä–µ–±—É–µ—Ç: runtime string concatenation
   - –£–∂–µ –µ—Å—Ç—å: `concat()` builtin

6. **Windows —Å–µ—Ç—å** - Winsock API
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è
   - –ï—Å—Ç—å: Linux socket API
   - –ù—É–∂–Ω–æ: Windows PE + Winsock calls

### –ë–æ–Ω—É—Å

7. **LSP** - Language Server Protocol
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ VS Code
   - –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
   - Go to definition
   - –§–∞–π–ª—ã: –Ω–æ–≤–∞—è –ø–∞–ø–∫–∞ `lsp/`

8. **–û—Ç–ª–∞–¥—á–∏–∫** - debug info
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è
   - DWARF debug info –¥–ª—è Linux
   - PDB –¥–ª—è Windows
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GDB/LLDB

9. **–ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä** - `juno install`
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è
   - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–∞–∫–µ—Ç–æ–≤
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## –ú–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–∞—Ä—Å–µ—Ä
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ `/* */`
- [ ] Escape sequences –≤ —Å—Ç—Ä–æ–∫–∞—Ö (—á–∞—Å—Ç–∏—á–Ω–æ –µ—Å—Ç—å)
- [ ] Hex/binary –ª–∏—Ç–µ—Ä–∞–ª—ã (`0xFF`, `0b1010`)

### –ö–æ–¥–≥–µ–Ω
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è tail calls
- [ ] Inline –Ω–µ–±–æ–ª—å—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] Loop unrolling

### Stdlib
- [ ] –ë–æ–ª—å—à–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (sin, cos, sqrt)
- [ ] –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (read, write)
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ (split, trim)
- [ ] –ö–æ–ª–ª–µ–∫—Ü–∏–∏ (HashMap, Vector)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏
- [ ] –¢—É—Ç–æ—Ä–∏–∞–ª –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- [ ] API reference –¥–ª—è stdlib
- [ ] –ì–∞–π–¥ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –º–æ–¥—É–ª–µ–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–≥–µ–Ω–∞**
   - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ calls.rb
   - –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–µ–ª–∫–∏–µ —Ñ–∞–π–ª—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

2. **–¢–µ—Å—Ç—ã**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ñ–∏—á
   - CI/CD pipeline
   - Regression tests

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –õ—É—á—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - Source location –≤ –æ—à–∏–±–∫–∞—Ö
   - Suggestions –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –º–æ–¥—É–ª–µ–π

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

**–ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å):**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã —Å 2+ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
2. –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å autofix

**–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. Register allocation
2. –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
3. –¢–∏–ø–∏–∑–∞—Ü–∏—è

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. –°—Ç—Ä–æ–∫–∏ –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö
2. LSP
3. –ë–æ–ª—å—à–µ stdlib —Ñ—É–Ω–∫—Ü–∏–π

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. –°–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥ (—Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ)
2. –û—Ç–ª–∞–¥—á–∏–∫
3. –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

---

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** v1.3 (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ + –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞)
**–°–ª–µ–¥—É—é—â–∞—è –≤–µ—Ä—Å–∏—è:** v1.4 (register allocation + –ø–æ–ª–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏)
