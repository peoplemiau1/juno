# Juno v1.3

**Juno** — минималистичный системный язык программирования, компилируемый напрямую в нативные исполняемые файлы (PE/ELF x64).

## Что нового в v1.3

- Исправлен критический баг с вызовами функций с 2+ аргументами
- Организована структура проекта: тесты, примеры и артефакты вынесены в отдельные папки
- Обновлена документация, добавлен STRUCTURE.md
- Добавлен .editorconfig для консистентного форматирования

## Особенности

- Нативная компиляция: прямая генерация машинного кода x64
- Кроссплатформенность: Windows (PE) и Linux (ELF)
- Структуры и методы с ООП-подобным синтаксисом
- Циклы `for` и `while`
- `insertC` для прямых ассемблерных вставок
- Минимум зависимостей: нужен только Ruby для компиляции

## Быстрый старт

Подробная инструкция: [QUICKSTART.md](QUICKSTART.md)

```powershell
# Windows
ruby main_native.rb demo_v1.juno
build\output.exe
echo %ERRORLEVEL%

# Linux
ruby main_linux.rb demo_v1.juno
./build/output_linux
echo $?

# Или используйте быстрый скрипт
build.bat demo_v1.juno  # Windows
```

## Синтаксис

```juno
// Структуры
struct Point { x y }

// Методы
fn Point.init(px, py) {
    self.x = px
    self.y = py
}

// Функции
fn add(a, b) {
    return a + b
}

// Главная функция
fn main() {
    let p = Point
    p.init(3, 4)
    
    // Циклы
    for (i = 0; i < 10; i++) {
        // ...
    }
    
    // Условия
    if (p.x > 0) {
        p.x = p.x + 1
    }
    
    // Ассемблерные вставки
    insertC { 0x48 0x31 0xc0 }  // xor rax, rax
    
    return p.x + p.y
}
```

## Возможности v1.0

| Фича | Статус |
|------|--------|
| Переменные (`let`) | Поддерживается |
| Арифметика (`+ - * /`) | Поддерживается |
| Сравнения (`== != < > <= >=`) | Поддерживается |
| Инкремент/декремент (`++ --`) | Поддерживается |
| Условия (`if/else`) | Поддерживается |
| Цикл `while` | Поддерживается |
| Цикл `for` | Поддерживается |
| Функции | Поддерживается |
| Структуры (`struct`) | Поддерживается |
| Методы структур | Поддерживается |
| Ассемблерные вставки (`insertC`) | Поддерживается |
| Комментарии (`//`) | Поддерживается |

## Структура проекта

```
├── src/                # Исходный код компилятора
│   ├── lexer.rb        # Лексер
│   ├── parser.rb       # Парсер
│   ├── codegen/        # Генерация кода
│   └── native/         # PE/ELF сборщики
├── stdlib/             # Стандартная библиотека
├── tests/              # Тесты (test_*.juno)
├── examples/           # Примеры программ
├── build/              # Артефакты сборки
├── main_native.rb      # Компилятор (Windows PE)
├── main_linux.rb       # Компилятор (Linux ELF)
├── docs.md             # Полная документация
└── demo_v1.juno        # Демо всех возможностей
```

## Документация

Полная документация: [docs.md](docs.md)

## Примеры

```juno
// Факториал
fn factorial(n) {
    let result = 1
    for (i = 1; i <= n; i++) {
        result = result * i
    }
    return result
}

fn main() {
    return factorial(5)  // 120
}
```

## Лицензия

MIT

---

**Juno v1.3** — минималистичный системный язык программирования.

Подробнее: [CHANGELOG.md](CHANGELOG.md) | [TODO.md](TODO.md) | [STRUCTURE.md](STRUCTURE.md)
